{"version":3,"file":"static/js/891.39327d58.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","components/Searchbar/initialState.js","hooks/useForm.js","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviePage/MoviePage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__yjDCC\",\"link\":\"MovieList_link__+cn-g\"};","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport style from './MovieList.module.css';\n\nconst MovieList = ({ results }) => {\n  console.log(results);\n  const location = useLocation();\n  const elements = results.map(({ id, title, overview }) => (\n    <li key={id}>\n      <Link\n        className={style.link}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return <ul className={style.list}>{elements}</ul>;\n};\n\nexport default MovieList;\n\nMovieList.defaultProps = {\n  results: [],\n};\n\nMovieList.propTypes = {\n  results: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n    })\n  ),\n};\n","const initialState = {\n  search: '',\n};\n\nexport default initialState;\n","import { useState } from 'react';\n\nconst useForm = ({ initialState, onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => {\n      return { ...prevState, [name]: value };\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ ...initialState });\n  };\n\n  return { state, setState, handleChange, handleSubmit };\n};\n\nexport default useForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchForm\":\"Searchbar_SearchForm__XuPyK\",\"SearchFormButton\":\"Searchbar_SearchFormButton__dksRa\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__TReRe\",\"SearchFormInput\":\"Searchbar_SearchFormInput__FT6Bx\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport initialState from './initialState';\nimport useForm from 'hooks/useForm';\nimport style from './Searchbar.module.css';\n\nfunction SearchForm({ onSubmit }) {\n  const { state, handleChange, handleSubmit } = useForm({\n    onSubmit,\n    initialState,\n  });\n\n  const { search } = state;\n\n  return (\n    <div className={style.Searchbar}>\n      <form className={style.SearchForm} onSubmit={handleSubmit}>\n        <button className={style.SearchFormButton} type=\"submit\">\n          <span>\n            <AiOutlineSearch color=\"black\" size=\"2rem\" />\n          </span>\n        </button>\n\n        <input\n          className={style.SearchFormInput}\n          type=\"text\"\n          name=\"search\"\n          value={search}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleChange}\n        />\n      </form>\n    </div>\n  );\n}\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import Searchbar from 'components/Searchbar';\nimport React, { useState, useEffect } from 'react';\nimport { fetchByQuery } from '../../services/api';\nimport MovieList from 'components/MovieList';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MoviePage = () => {\n  const [items, setItem] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    if (search) {\n      const fetchMovie = async () => {\n        try {\n          const data = await fetchByQuery(search, page);\n          setItem(prevItems => [...prevItems, ...data.results]);\n        } catch (error) {}\n      };\n      fetchMovie();\n    }\n  }, [search, page, setItem]);\n\n  const onSearchMovie = ({ search }) => {\n    setSearchParams({ search, page: 1 });\n    setItem([]);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onSearchMovie} search={search} />\n      {items && <MovieList results={items} />}\n    </>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '248abd3b176f582e9e747718a352534c',\n  },\n});\n\nexport const fetchTrending = async (page = 1) => {\n  const time = 'week';\n  const type = 'movie';\n  const { data } = await instance.get(`/trending/${type}/${time}?page=${page}`);\n  return data;\n};\n\nexport const fetchById = async Id => {\n  const type = 'movie';\n  const { data } = await instance.get(`/${type}/${Id}`);\n  return data;\n};\n\nexport const fetchByQuery = async (q, page = 1) => {\n  const type = 'movie';\n  const { data } = await instance.get(\n    `/search/${type}?page=${page}&query=${q}`\n  );\n  return data;\n};\n\nexport const fetchCredit = async Id => {\n  const type = 'movie';\n  const { data } = await instance.get(`/${type}/${Id}/credits`);\n  return data;\n};\n\nexport const fetchReview = async Id => {\n  const type = 'movie';\n  const { data } = await instance.get(`/${type}/${Id}/reviews`);\n  return data;\n};\n"],"names":["MovieList","results","console","log","location","useLocation","elements","map","id","title","overview","className","style","to","state","from","defaultProps","search","initialState","onSubmit","useState","setState","handleChange","target","name","value","prevState","handleSubmit","e","preventDefault","useForm","type","color","size","autoComplete","autoFocus","placeholder","onChange","items","setItem","useSearchParams","searchParams","setSearchParams","get","page","useEffect","fetchMovie","fetchByQuery","data","prevItems","Searchbar","instance","axios","baseURL","params","api_key","fetchTrending","time","fetchById","Id","q","fetchCredit","fetchReview"],"sourceRoot":""}